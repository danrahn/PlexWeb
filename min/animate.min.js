let A=function(){this.queue=function(e,t,...i){this.queueDelayed(e,t,0,...i)},this.queueDelayed=function(i,o,s,...r){if(arguments.length<2)return;o.id||logWarn("Animated element does not have an id!"),e[o.id]||(e[o.id]=[]);let l=[],a={};for(let[e,o]of Object.entries(i)){if(e in a)return;a[e]=1,l.push(new t(n(e),e,s,o,...r))}if(e[o.id].push(l),1===e[o.id].length){e[o.id][0].t=[];for(let t=0;t<l.length;++t)e[o.id][0].t.push(setTimeout(function(e,t,i,...n){e(t,i,...n)},s,l[t].func,o,l[t].prop,...l[t].args))}},this.fireNow=function(t,i,...n){let o=e[i.id];if(o){for(let e=0;e<o[0].t.length;++e)clearTimeout(o[0].t[e]);(o=o.splice(0,1))[0].canceled=!0}this.queue(t,i,...n)};let e={},t=function(e,t,i,...n){this.func=e,this.prop=t,this.delay=i,this.args=n},i=function(t){let i=e[t.id];if(i[0].shift(),0==i[0].length)if(i.shift(),0==i.length)delete e[t.id];else{let e=i[0];e.t=[];for(let i=0;i<e.length;++i)e.t[i]=setTimeout(function(e,t){t.func(e,t.prop,...t.args)},e[i].delay,t,e[i])}},n=function(t){switch(t){case"backgroundColor":case"color":return function(t,n,s,r,l=!1){const a=r/(50/3)+.5|0||1;let u=new Color(o(t)[n]);if("string"==typeof s)if("transparent"==(s=s.toLowerCase()))(s=new Color(u.toString())).a=0;else if("#"==s[0])s=new Color(s);else{let e=document.createElement("q");e.style.color=s,document.body.append(e),s=new Color(o(e)[n]),document.body.removeChild(e)}let c=function(t,n,o,s,r,l,a,u){e[n.id][0].canceled&&(r=l),n.style[a]=new Color(o.r+(s.r-o.r)/l*r,o.g+(s.g-o.g)/l*r,o.b+(s.b-o.b)/l*r,o.a+(s.a-o.a)/l*r).toString(),r==l?(u&&(n.style[a]=null),i(n)):setTimeout(t,50/3,t,n,o,s,r+1,l,a,u)};setTimeout(c,50/3,c,t,u,s,1,a,n,l)};case"opacity":case"left":return function(t,n,s,r,l=!1){var a=r/(50/3)+.5|0||1;let u=s[s.length-1];const c="%"==u;let d="x"==u;const f=parseFloat(s);let h=parseFloat(o(t)[n]);c&&(h/=parseInt(o(document.body).width));let p=function(t,n,o,s,r,l,a,u,c,d){e[n.id][0].canceled&&(u=c),n.style[o]=s+(r-s)/c*u+(l?"%":a?"px":""),u==c?(d&&n.parentNode.removeChild(n),i(n)):setTimeout(t,50/3,t,n,o,s,r,l,a,u+1,c,d)};setTimeout(p,50/3,p,t,n,h,f,c,d,1,a,l)};case"display":return function(e,t,n){e.style.display=n,i(e)};default:return void logError("Bad:"+t)}},o=function(e){return getComputedStyle(e)}},Animation=new A;function Color(e,t,i,n){if(void 0===t&&"#"==e[0]){let t;4==e.length&&(e=e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),this.r=parseInt(t[1],16),this.g=parseInt(t[2],16),this.b=parseInt(t[3],16),this.a=1}else void 0===t&&([e,t,i,n]=e.substr(e.indexOf("(")+1).split(",")),this.r=e?parseInt(e):0,this.g=t?parseInt(t):0,this.b=i?parseInt(i):0,this.a=n?parseFloat(n):1;this.toString=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"}}