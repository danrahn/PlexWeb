let A=function(){this.queue=function(e,t,...i){this.queueDelayed(e,t,0,...i)},this.queueDelayed=function(i,l,n,...o){if(arguments.length<2)return;l.id||logWarn("Element has no id!"),e[l.id]||(e[l.id]=[]);let r=[],a={};for(let[e,l]of Object.entries(i)){if(e in a)return;a[e]=1,r.push(new t(s(e),e,n,l,...o))}if(e[l.id].push(r),1===e[l.id].length){e[l.id][0].timers=[];for(let t=0;t<r.length;++t)e[l.id][0].timers.push(setTimeout(function(e,t,i,...s){e(t,i,...s)},n,r[t].func,l,r[t].prop,...r[t].args))}},this.fireNow=function(t,i,...s){let l=e[i.id];if(l){for(let e=0;e<l[0].timers.length;++e)clearTimeout(l[0].timers[e]);(l=l.splice(0,1))[0].canceled=!0}this.queue(t,i,...s)};let e={},t=function(e,t,i,...s){this.func=e,this.prop=t,this.delay=i,this.args=s},i=function(t){let i=e[t.id];if(i[0].shift(),0==i[0].length)if(i.shift(),0==i.length)delete e[t.id];else{let e=i[0];e.timers=[];for(let i=0;i<e.length;++i)e.timers[i]=setTimeout((e,t)=>{t.func(e,t.prop,...t.args)},e[i].delay,t,e[i])}},s=function(t){switch(t){case"backgroundColor":case"color":return(t,s,n,o,r=!1)=>{const a=o/(50/3)+.5|0||1;let u=new Color(l(t)[s]);"string"==typeof n&&("transparent"==(n=n.toLowerCase())?(n=new Color(u.s())).a=0:n=new Color(n));let h=(t,s,l,n,o,r,a,u)=>{e[s.id][0].canceled&&(o=r),s.style[a]=new Color(l.r+(n.r-l.r)/r*o,l.g+(n.g-l.g)/r*o,l.b+(n.b-l.b)/r*o,l.a+(n.a-l.a)/r*o).s(),o==r?(u&&(s.style[a]=null),i(s)):setTimeout(t,50/3,t,s,l,n,o+1,r,a,u)};setTimeout(h,50/3,h,t,u,n,1,a,s,r)};case"opacity":case"left":return(t,s,n,o,r=!1)=>{var a=o/(50/3)+.5|0||1;let u=n[n.length-1];const h="%"==u;let d="x"==u;const c=parseFloat(n);let f=parseFloat(l(t)[s]);h&&(f/=parseInt(l(document.body).width));let g=(t,s,l,n,o,r,a,u,h,d)=>{e[s.id][0].canceled&&(u=h),s.style[l]=n+(o-n)/h*u+(r?"%":a?"px":""),u==h?(d&&s.parentNode.removeChild(s),i(s)):setTimeout(t,50/3,t,s,l,n,o,r,a,u+1,h,d)};setTimeout(g,50/3,g,t,s,f,c,h,d,1,a,r)};case"display":return(e,t,s)=>{e.style.display=s,i(e)};default:return void logError("Bad:"+t)}},l=e=>getComputedStyle(e)},Animation=new A;function Color(e,t,i,s){let l=(e,t)=>parseInt(e,t);if(void 0===t&&"#"==e[0]){let t;4==e.length&&(e=e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),this.r=l(t[1],16),this.g=l(t[2],16),this.b=l(t[3],16),this.a=1}else void 0===t&&([e,t,i,s]=e.substr(e.indexOf("(")+1).split(",")),this.r=e?l(e):0,this.g=t?l(t):0,this.b=i?l(i):0,this.a=s?parseFloat(s):1;this.s=(()=>`rgba(${this.r},${this.g},${this.b},${this.a})`)}