let A=function(){this.queue=function(t,e,...i){this.queueDelayed(t,e,0,...i)},this.queueDelayed=function(i,s,r,...o){if(arguments.length<2)return;s.id||logWarn("Animated element has no id!"),t[s.id]||(t[s.id]=[]);let l=[],a={};for(let[t,s]of Object.entries(i)){if(t in a)return;a[t]=1,l.push(new e(n(t),t,r,s,...o))}if(t[s.id].push(l),1===t[s.id].length){t[s.id][0].timers=[];for(let e=0;e<l.length;++e)t[s.id][0].timers.push(setTimeout(function(t,e,i,...n){t(e,i,...n)},r,l[e].func,s,l[e].prop,...l[e].args))}},this.fireNow=function(e,i,...n){let s=t[i.id];if(s){for(let t=0;t<s[0].timers.length;++t)clearTimeout(s[0].timers[t]);(s=s.splice(0,1))[0].canceled=!0}this.queue(e,i,...n)};let t={},e=function(t,e,i,...n){this.func=t,this.prop=e,this.delay=i,this.args=n},i=function(e){let i=t[e.id];if(i[0].shift(),0==i[0].length)if(i.shift(),0==i.length)delete t[e.id];else{let t=i[0];t.timers=[];for(let i=0;i<t.length;++i)t.timers[i]=setTimeout(function(t,e){e.func(t,e.prop,...e.args)},t[i].delay,e,t[i])}},n=function(e){switch(e){case"backgroundColor":case"color":return function(e,n,r,o,l=!1){const a=o/(50/3)+.5|0||1;let u=new Color(s(e)[n]);"string"==typeof r&&("transparent"==(r=r.toLowerCase())?(r=new Color(u.toString())).a=0:r=new Color(r));let c=function(e,n,s,r,o,l,a,u){t[n.id][0].canceled&&(o=l),n.style[a]=new Color(s.r+(r.r-s.r)/l*o,s.g+(r.g-s.g)/l*o,s.b+(r.b-s.b)/l*o,s.a+(r.a-s.a)/l*o).toString(),o==l?(u&&(n.style[a]=null),i(n)):setTimeout(e,50/3,e,n,s,r,o+1,l,a,u)};setTimeout(c,50/3,c,e,u,r,1,a,n,l)};case"opacity":case"left":return function(e,n,r,o,l=!1){var a=o/(50/3)+.5|0||1;let u=r[r.length-1];const c="%"==u;let f="x"==u;const d=parseFloat(r);let h=parseFloat(s(e)[n]);c&&(h/=parseInt(s(document.body).width));let p=function(e,n,s,r,o,l,a,u,c,f){t[n.id][0].canceled&&(u=c),n.style[s]=r+(o-r)/c*u+(l?"%":a?"px":""),u==c?(f&&n.parentNode.removeChild(n),i(n)):setTimeout(e,50/3,e,n,s,r,o,l,a,u+1,c,f)};setTimeout(p,50/3,p,e,n,h,d,c,f,1,a,l)};case"display":return function(t,e,n){t.style.display=n,i(t)};default:return void logError("Bad:"+e)}},s=function(t){return getComputedStyle(t)}},Animation=new A;function Color(t,e,i,n){if(void 0===e&&"#"==t[0]){let e;4==t.length&&(t=t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]),e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16),this.a=1}else void 0===e&&([t,e,i,n]=t.substr(t.indexOf("(")+1).split(",")),this.r=t?parseInt(t):0,this.g=e?parseInt(e):0,this.b=i?parseInt(i):0,this.a=n?parseFloat(n):1;this.toString=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"}}